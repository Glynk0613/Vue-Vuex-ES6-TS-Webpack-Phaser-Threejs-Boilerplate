var PhaserGameObject=function(){function t(){this.game=null,this.global={pause:!1}}return t.prototype.init=function(t,e,r){var i=new PHASER_MASTER({game:new Phaser.Game(r.width,r.height,Phaser.WEBGL,t,{preload:function(){var t=i.game();t.load.enableParallel=!0,t.stage.backgroundColor="#2f2f2f",t.load.image("gameTitle","src/assets/game/demo1/titles/100x100.jpg"),t.load.image("ship","src/assets/game/demo1/images/ship.png"),t.load.image("orangeBtn","src/assets/game/demo1/images/orangeBtn.png"),t.load.audio("intro-music",["src/assets/game/demo1/music/far-sight.ogg"]),t.load.audio("select",["src/assets/game/demo1/sound/Pickup_Coin.ogg"]),t.load.script("webfont","//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"),window.WebFontConfig={active:function(){},google:{families:["Press Start 2P"]}},t.load.bitmapFont("gem","src/assets/fonts/gem.png","src/assets/fonts/gem.xml"),i.setState("PRELOAD"),new PHASER_PRELOADER({game:t,delayInSeconds:0,done:function(){!function(){var t=i.game();s.assign({game:t}),n.assign({game:t}),o.assign({game:t}),a.assign({game:t}),u.assign({game:t}),o.addSprite({x:t.world.centerX-150,y:t.world.centerY+50,name:"sprite1",group:"group1",reference:"ship"}),o.addSprite({x:t.world.centerX,y:t.world.centerY+50,name:"sprite2",group:"group1",reference:"ship"}),o.addSprite({x:t.world.centerX+150,y:t.world.centerY+50,name:"sprite3",group:"group1",reference:"ship"}),o.getGroup("group1").forEach(function(t,e){t.anchor.set(.5),t.scale.setTo(1,1),t.alpha=1});var e=function(){i.setState("MOVE"),a.get("state").text="Current state: "+i.getCurrentState(),a.get("instructions").maxWidth=t.canvas.width-10,a.get("instructions").text="Move each ship individually by holding A, S, D and a directional arrow or move all of them by using just the directional arrows.",a.get("instructions").y=t.canvas.height-(a.get("instructions").height+15)};u.add({name:"btn1",group:"group1",x:t.world.centerX-175,y:100,reference:"orangeBtn",onclick:function(){i.setState("ROTATE"),a.get("state").text="Current state: "+i.getCurrentState(),a.get("instructions").maxWidth=t.canvas.width-10,a.get("instructions").text="Rotate ships individually with A, S, D or use the directional arrows to move them all.  Pressing ENTER will reset them to their starting location.",a.get("instructions").y=t.canvas.height-(a.get("instructions").height+15)}}),u.add({name:"btn2",group:"group1",x:t.world.centerX,y:100,reference:"orangeBtn",onclick:function(){i.setState("SCALE"),a.get("state").text="Current state: "+i.getCurrentState(),a.get("instructions").maxWidth=t.canvas.width-10,a.get("instructions").text="Scale ships individually with A, S, D or use the directional arrows to scale them all.  Pressing ENTER will reset them to their original size.",a.get("instructions").y=t.canvas.height-(a.get("instructions").height+15)}}),u.add({name:"btn3",group:"group1",x:t.world.centerX+175,y:100,reference:"orangeBtn",onclick:function(){e()}}),u.getGroup("group1").forEach(function(t,e){t.anchor.set(.5),t.scale.setTo(.5,.5)}),a.add({name:"label1",group:"instructions",font:"gem",x:t.world.centerX-225,y:85,size:32,default:"ROTATE"}),a.add({name:"label2",group:"instructions",font:"gem",x:t.world.centerX-40,y:85,size:32,default:"SCALE"}),a.add({name:"label3",group:"instructions",font:"gem",x:t.world.centerX+145,y:85,size:32,default:"MOVE"}),a.add({name:"status",group:"instructions",font:"gem",x:10,y:10,size:16,default:"Click on a button to change the action:"}),a.add({name:"state",group:"instructions",font:"gem",x:10,y:30,size:16,default:""}),a.add({name:"instructions",group:"instructions",font:"gem",x:10,y:t.canvas.height-80,size:16,default:""}),e()}()}})},update:function(){s.isDebuggerEnabled()&&s.updateDebugger();n.updateDebugger(),i.checkState("PRELOAD")&&__phaser.global.pause;i.checkState("ROTATE")&&!__phaser.global.pause&&function(){s.read("A").active&&(o.get("sprite1").angle+=5);s.read("B").active&&(o.get("sprite2").angle+=5);s.read("X").active&&(o.get("sprite3").angle+=5);if(s.read("LEFT").active)for(var t=0,e=o.getGroup("group1");t<e.length;t++){var r=e[t];r.angle-=5}if(s.read("RIGHT").active)for(var n=0,a=o.getGroup("group1");n<a.length;n++){var r=a[n];r.angle+=5}if(s.read("UP").active)for(var u=0,c=o.getGroup("group1");u<c.length;u++){var r=c[u];r.angle-=10}if(s.read("DOWN").active)for(var p=0,l=o.getGroup("group1");p<l.length;p++){var r=l[p];r.angle+=10}if(s.checkWithDelay({isActive:!0,key:"START",delay:500}))for(var g=i.game(),d=0,h=o.getGroup("group1");d<h.length;d++){var r=h[d];g.add.tween(r).to({angle:0},500,Phaser.Easing.Bounce.Out,!0),g.add.tween(r.scale).to({y:1,x:1},500,Phaser.Easing.Bounce.Out,!0),g.add.tween(r).to({y:r.getDefaultPositions().y,x:r.getDefaultPositions().x},500,Phaser.Easing.Bounce.Out,!0)}}();i.checkState("SCALE")&&!__phaser.global.pause&&function(){s.read("A").active&&o.get("sprite1").scale.setTo(o.get("sprite1").scale.x+=.025,o.get("sprite1").scale.y+=.025);s.read("B").active&&o.get("sprite2").scale.setTo(o.get("sprite2").scale.x+=.025,o.get("sprite2").scale.y+=.025);s.read("X").active&&o.get("sprite3").scale.setTo(o.get("sprite3").scale.x+=.025,o.get("sprite3").scale.y+=.025);if(s.read("UP").active)for(var t=0,e=o.getGroup("group1");t<e.length;t++){var r=e[t];r.scale.setTo(r.scale.x+=.05,r.scale.y+=.05)}if(s.read("DOWN").active)for(var n=0,a=o.getGroup("group1");n<a.length;n++){var r=a[n];r.scale.setTo(r.scale.x-=.05,r.scale.y-=.05)}if(s.checkWithDelay({isActive:!0,key:"START",delay:500}))for(var u=i.game(),c=0,p=o.getGroup("group1");c<p.length;c++){var r=p[c];u.add.tween(r).to({angle:0},500,Phaser.Easing.Bounce.Out,!0),u.add.tween(r.scale).to({y:1,x:1},500,Phaser.Easing.Bounce.Out,!0),u.add.tween(r).to({y:r.getDefaultPositions().y,x:r.getDefaultPositions().x},500,Phaser.Easing.Bounce.Out,!0)}}();i.checkState("MOVE")&&!__phaser.global.pause&&function(){s.read("A").active&&(s.read("UP").active&&(o.get("sprite1").y-=5),s.read("DOWN").active&&(o.get("sprite1").y+=5),s.read("LEFT").active&&(o.get("sprite1").x-=5),s.read("RIGHT").active&&(o.get("sprite1").x+=5));s.read("B").active&&(s.read("UP").active&&(o.get("sprite2").y-=5),s.read("DOWN").active&&(o.get("sprite2").y+=5),s.read("LEFT").active&&(o.get("sprite2").x-=5),s.read("RIGHT").active&&(o.get("sprite2").x+=5));s.read("X").active&&(s.read("UP").active&&(o.get("sprite3").y-=5),s.read("DOWN").active&&(o.get("sprite3").y+=5),s.read("LEFT").active&&(o.get("sprite3").x-=5),s.read("RIGHT").active&&(o.get("sprite3").x+=5));if(!s.read("A").active&&!s.read("B").active&&!s.read("X").active){if(s.read("UP").active)for(var t=0,e=o.getGroup("group1");t<e.length;t++){var r=e[t];r.y-=5}if(s.read("DOWN").active)for(var n=0,a=o.getGroup("group1");n<a.length;n++){var r=a[n];r.y+=5}if(s.read("LEFT").active)for(var u=0,c=o.getGroup("group1");u<c.length;u++){var r=c[u];r.x-=5}if(s.read("RIGHT").active)for(var p=0,l=o.getGroup("group1");p<l.length;p++){var r=l[p];r.x+=5}}if(s.checkWithDelay({isActive:!0,key:"START",delay:500}))for(var g=i.game(),d=0,h=o.getGroup("group1");d<h.length;d++){var r=h[d];g.add.tween(r).to({angle:0},500,Phaser.Easing.Bounce.Out,!0),g.add.tween(r.scale).to({y:1,x:1},500,Phaser.Easing.Bounce.Out,!0),g.add.tween(r).to({y:r.getDefaultPositions().y,x:r.getDefaultPositions().x},500,Phaser.Easing.Bounce.Out,!0)}}()}}),resolution:{width:r.width,height:r.height}}),s=new PHASER_CONTROLS,n=new PHASER_MOUSE({showDebugger:!1}),o=new PHASER_SPRITE_MANAGER,a=new PHASER_TEXT_MANAGER,u=new PHASER_BUTTON_MANAGER;e.game=this,this.game=i.game()},t.prototype.destroy=function(){this.game.destroy()},t}(),__phaser=new PhaserGameObject,PHASER_AUDIO=function(){return function(){}}(),PHASER_BITMAPDATA_MANAGER=function(){function t(){this.game=null,this.bmd={array:[],object:{}}}return t.prototype.assign=function(t){this.game=t.game},t.prototype.add=function(){},t.prototype.addImage=function(t){if(0===this.bmd.array.filter(function(e){return e.key===t.key}).length){var e=this.game.make.bitmapData();return e.load(t.reference),e.addToWorld(t.x,t.y),e.name=t.name,e.group=t.group,this.bmd.array.push(e),this.bmd.object[t.name]=e,e}console.log("Duplicate key name not allowed: "+t.key)},t.prototype.destroy=function(t){for(var e=[],r=0,i=this.bmd.array.filter(function(e){return e.key===t});r<i.length;r++){var s=i[r];e.push(s.key),s.destroy()}return delete this.bmd.object[t],this.bmd.array=this.bmd.array.filter(function(e){return e.key!==t}),e},t.prototype.destroyGroup=function(t){for(var e=[],r=0,i=this.bmd.array.filter(function(e){return e.group===t});r<i.length;r++){var s=i[r];e.push(s.key),s.destroy()}return delete this.bmd.object[t],this.bmd.array=this.bmd.array.filter(function(e){return e.group!==t}),e},t.prototype.get=function(t){return this.bmd.object[t]},t.prototype.getGroup=function(t){return this.bmd.array.filter(function(e){return e.group===t})},t.prototype.getAll=function(t){return void 0===t&&(t="BOTH"),"ARRAY"===t?this.bmd.array:"OBJECT"==t?this.bmd.object:{object:this.bmd.object,array:this.bmd.array}},t.prototype.center=function(t){if(void 0===this.bmd.object[t.name])return console.log("Error centering sprite:  key does not exists."),null;var e=this.bmd.object[t.name];return e.x=t.x-e.width/2,e.y=t.y-e.height/2,e},t}(),PHASER_BUTTON_MANAGER=function(){function t(){this.game=null,this.resources={array:[],object:{}}}return t.prototype.assign=function(t){this.game=t.game},t.prototype.add=function(t){if(0===this.resources.array.filter(function(e){return e.name===t.name}).length){var e=this.game.add.button(t.x,t.y,t.reference,t.onclick);return e.name=t.name,e.group=t.group||null,this.resources.array.push(e),this.resources.object[t.name]=e,e}console.log("Duplicate key name not allowed: "+t.key)},t.prototype.destroy=function(t){for(var e=[],r=0,i=this.resources.array.filter(function(e){return e.key===t});r<i.length;r++){var s=i[r];e.push(s.key),s.destroy()}return delete this.resources.object[t],this.resources.array=this.resources.array.filter(function(e){return e.key!==t}),e},t.prototype.destroyGroup=function(t){for(var e=[],r=0,i=this.resources.array.filter(function(e){return e.group===t});r<i.length;r++){var s=i[r];e.push(s.key),s.destroy()}return delete this.resources.object[t],this.resources.array=this.resources.array.filter(function(e){return e.group!==t}),e},t.prototype.get=function(t){return this.resources.object[t]},t.prototype.getGroup=function(t){return this.resources.array.filter(function(e){return e.group===t})},t.prototype.getAll=function(t){return void 0===t&&(t="BOTH"),"ARRAY"===t?this.resources.array:"OBJECT"==t?this.resources.object:{object:this.resources.object,array:this.resources.array}},t}(),PHASER_CONTROLS=function(){function t(){this.IO=null,this.game=null,this.buttonSensitivity={QUICK:1,SHORT:50,LONG:150,SUPERLONG:300},this.properties={isReady:!1,allowDebugger:!0,buttonDelay:50,timingRefreshRate:1},this.directionalButtons=["UP","DOWN","LEFT","RIGHT"],this.actionButtons=["A","B","X","Y"],this.triggerButtons=["L1","L2","R1","R2","L3","R3"],this.systemButtons=["START","BACK"],this.buttonArray=this.directionalButtons.concat(this.actionButtons,this.triggerButtons,this.systemButtons),this.buttonMap={UP:{name:"UP",code:"ArrowUp"},DOWN:{name:"DOWN",code:"ArrowDown"},LEFT:{name:"LEFT",code:"ArrowLeft"},RIGHT:{name:"RIGHT",code:"ArrowRight"},A:{name:"A",code:"KeyA"},B:{name:"S",code:"KeyS"},X:{name:"D",code:"KeyD"},Y:{name:"F",code:"KeyF"},L1:{name:"Q",code:"KeyQ"},L2:{name:"W",code:"KeyW"},R1:{name:"E",code:"KeyE"},R2:{name:"R",code:"KeyR"},L3:{name:"O",code:"KeyO"},R3:{name:"P",code:"KeyP"},START:{name:"ENTER",code:"Enter"},BACK:{name:"BACKSPACE",code:"Backspace"}},this.buttonMapId={UP:1,DOWN:2,LEFT:3,RIGHT:4,A:5,B:6,X:7,Y:8,L1:9,L2:10,R1:11,R2:12,L3:13,R3:14,START:15,BACK:16},this.disabledButtons={ALL:!1,DIRECTIONAL:!1,TRIGGER:!1,ACTION:!1,SYSTEM:!1},this.debugger={enabled:!1,text:{}},this.inputDelay={delay:Array.apply(null,Array(20)).map(function(){return 0})}}return t.prototype.assign=function(t){var e=this;this.game=t.game;var r={font:"12px Courier New",fill:"#fff",align:"left"};this.buttonArray.forEach(function(i,s){e.debugger.text[i]=null,e.debugger.text[i]=t.game.add.text(10,10+15*s,"",r),e.disabledButtons[i]=!1});for(var i={buttons:{},sensitivityPress:{},sensitivityBuffer:{},state:{}},s=function(r){i.buttons[r]=t.game.input.keyboard.addKey(Phaser.Keyboard[n.buttonMap[r].name]),i.sensitivityPress[r]=null,i.sensitivityBuffer[r]=0,i.state[r]=function(){return e.getBtnPressType(e.IO.sensitivityBuffer[r])}},n=this,o=0,a=this.buttonArray;o<a.length;o++){s(a[o])}for(var u=function(t){i.buttons[t].onDown.add(function(r){var s,n;clearInterval(i.sensitivityPress[t]);var o=["DIRECTIONAL","ACTION","TRIGGER","SYSTEM"];Object.keys(e.buttonMap).forEach(function(t,i){if(e.buttonMap[t].code===r.event.code)for(var a=0,u=o;a<u.length;a++){var c=u[a];e[c.toLowerCase()+"Buttons"].indexOf(t)+1&&(s=c,n=t)}});var a=!1;e.disabledButtons.ALL&&(a=!0);for(var u=0,c=o;u<c.length;u++){var p=c[u];e.disabledButtons[p]&&s===p&&(a=!0)}Object.keys(e.buttonMap).forEach(function(t,r){e.disabledButtons[t]&&n===t&&(a=!0)}),a||(i.sensitivityPress[t]=setInterval(function(){i.sensitivityBuffer[t]+=1},e.properties.timingRefreshRate))},c)},c=this,p=0,l=this.buttonArray;p<l.length;p++){u(l[p])}return t.game.input.keyboard.onUpCallback=function(t){for(var r=0,s=e.buttonArray;r<s.length;r++){var n=s[r];t.code===e.buttonMap[n].code&&(clearInterval(i.sensitivityPress[n]),i.sensitivityBuffer[n]=0)}"Backquote"===t.code&&e.properties.allowDebugger&&(e.setDebugger(!e.debugger.enabled),e.updateDebugger())},this.properties.isReady=!0,this.IO=i,i},t.prototype.mapKeys=function(t){var e=this;this.properties.isReady=!1,this.destroyAll(),setTimeout(function(){e.buttonMap=t,e.properties.isReady=!0,e.assign(e.game)},1)},t.prototype.isReady=function(){return this.properties.isReady},t.prototype.checkWithDelay=function(t){return this.read(t.key).active===t.isActive&&(this.game.time.now>this.inputDelay.delay[this.getKeyId(t.key)]&&(this.inputDelay.delay[this.getKeyId(t.key)]=t.delay+this.game.time.now,!0))},t.prototype.isDebuggerEnabled=function(){return this.debugger.enabled},t.prototype.setDebugger=function(t){void 0===t&&(t=!0),this.debugger.enabled=t},t.prototype.updateDebugger=function(){if(this.properties.isReady)for(var t=0,e=this.buttonArray;t<e.length;t++){var r=e[t];this.debugger.text[r].setText(this.debugger.enabled?this.debuggerString(r):"").bringToTop()}},t.prototype.disableAllInput=function(){this.disabledButtons.ALL=!0},t.prototype.enableAllInput=function(){this.disabledButtons.ALL=!1},t.prototype.disableAllDirectionalButtons=function(){this.disabledButtons.DIRECTIONAL=!0},t.prototype.enableAllDirectionalButtons=function(){this.disabledButtons.DIRECTIONAL=!1},t.prototype.disableAllTriggerButtons=function(){this.disabledButtons.TRIGGER=!0},t.prototype.enableAllTriggerButtons=function(){this.disabledButtons.TRIGGER=!1},t.prototype.disableAllActionButtons=function(){this.disabledButtons.ACTION=!0},t.prototype.enableAllActionButtons=function(){this.disabledButtons.ACTION=!1},t.prototype.disableAllSystemButtons=function(){this.disabledButtons.SYSTEM=!0},t.prototype.enableAllSystemButtons=function(){this.disabledButtons.SYSTEM=!1},t.prototype.setDisableKeyProperty=function(t,e){void 0===e&&(e=!0),this.properties.isReady&&(this.disabledButtons[t.toUpperCase()]=e)},t.prototype.getKeyDisabledValue=function(t){return this.properties.isReady?this.disabledButtons[t.toUpperCase()]:null},t.prototype.clearAllControlIntervals=function(){if(this.properties.isReady)for(var t=0,e=this.buttonArray;t<e.length;t++){var r=e[t];clearInterval(this.IO.sensitivityPress[r])}},t.prototype.getKeyId=function(t){return this.buttonMapId[t.toUpperCase()]},t.prototype.read=function(t){if(this.properties.isReady){return{}[t]={id:this.buttonMapId[t.toUpperCase()],active:this.IO.state[t.toUpperCase()]().val>0,duration:this.IO.state[t.toUpperCase()]().val,state:this.IO.state[t.toUpperCase()]().state,type:this.IO.state[t.toUpperCase()]().type,disabled:this.disabledButtons[t.toUpperCase()]}}return{}},t.prototype.readMulti=function(t,e){if(void 0===e&&(e="OBJECT"),this.properties.isReady){if("OBJECT"===e){for(var r={},i=0,s=t;i<s.length;i++){r[a=s[i]]={id:this.buttonMapId[a.toUpperCase()],active:this.IO.state[a.toUpperCase()]().val>0,duration:this.IO.state[a.toUpperCase()]().val,state:this.IO.state[a.toUpperCase()]().state,type:this.IO.state[a.toUpperCase()]().type,disabled:this.disabledButtons[a.toUpperCase()]}}return r}if("ARRAY"===e){r=[];for(var n=0,o=t;n<o.length;n++){var a=o[n];r.push({id:this.buttonMapId[a.toUpperCase()],key:a,active:this.IO.state[a.toUpperCase()]().val>0,duration:this.IO.state[a.toUpperCase()]().val,state:this.IO.state[a.toUpperCase()]().state,type:this.IO.state[a.toUpperCase()]().type,disabled:this.disabledButtons[a.toUpperCase()]})}return r}}},t.prototype.debuggerString=function(t){return t.toUpperCase()+" ("+this.buttonMap[t.toUpperCase()].name+"/"+this.buttonMap[t.toUpperCase()].code+") | id: "+this.buttonMapId[t.toUpperCase()]+" duration: "+this.IO.state[t.toUpperCase()]().val+" | state: "+this.IO.state[t.toUpperCase()]().state+" | type: "+this.IO.state[t.toUpperCase()]().type+" | disabled: "+this.disabledButtons[t.toUpperCase()]},t.prototype.getBtnPressType=function(t){var e=this,r="NONE",i=0,s=0;return Object.keys(this.buttonSensitivity).forEach(function(n){s++,t>e.buttonSensitivity[n]&&(r=n,i=s)}),{val:t,type:r,state:i}},t.prototype.destroyAll=function(){var t=this;this.clearAllControlIntervals(),Object.keys(this.debugger.text).forEach(function(e){t.debugger.text[e].destroy()})},t}(),PHASER_MASTER=function(){function t(t){this._game=t.game,this.resolution=t.resolution,this.states={BOOT:"BOOT",PRELOAD:"PRELOAD",READY:"READY"},this.currentState=this.states[0]}return t.prototype.changeState=function(t){void 0===t&&(t=null);var e=t.toUpperCase(),r=!1;return void 0===this.states[e]&&(this.states[e]=e,r=!0),this.currentState=e,{created:r,state:this.currentState}},t.prototype.getCurrentState=function(){return this.currentState},t.prototype.getStates=function(){return this.states},t.prototype.getResolution=function(){return this.resolution},t.prototype.setState=function(t){this.currentState=t.toUpperCase()},t.prototype.checkState=function(t){return this.currentState===t.toUpperCase()},t.prototype.game=function(){return this._game},t}(),PHASER_MOUSE=function(){function t(t){this.game=null,this.clickSensitvity={QUICK:1,SHORT:50,LONG:150,SUPERLONG:300},this.mouseMapping=[0,1,2],this.mouseMap={LEFT:0,MIDDLE:1,RIGHT:2},this.metrics={sensitivityPress:{},sensitivityBuffer:{},location:{},state:{}},this.properties={allowDebugger:!0,timingRefreshRate:1},this.inputDelay={delay:Array.apply(null,Array(2)).map(function(){return 0})},this.debugger={enabled:void 0!==t.showDebugger&&t.showDebugger,text:{},pointer:null}}return t.prototype.assign=function(t){var e=this;this.game=t.game;for(var r=function(t){i.metrics.sensitivityPress[t]=null,i.metrics.sensitivityBuffer[t]=0,i.metrics.location[t]={x:null,y:null},i.metrics.state[t]=function(){return e.getBtnPressType(e.metrics.sensitivityBuffer[t])}},i=this,s=0,n=this.mouseMapping;s<n.length;s++){r(n[s])}this.game.input.onDown.add(function(t){var r=e.checkMouseClick();clearInterval(e.metrics.sensitivityPress[r]),e.metrics.sensitivityPress[r]=setInterval(function(){e.metrics.sensitivityBuffer[r]+=1,e.metrics.location[r]={x:t.x,y:t.y}},e.properties.timingRefreshRate)}),this.game.input.onUp.add(function(t){var r=e.checkMouseClick();e.clearAllControlIntervals(),e.metrics.sensitivityBuffer[r]=0});var o={font:"12px Courier New",fill:"#fff",align:"left"};this.mouseMapping.forEach(function(t,r){e.debugger.text[t]=null,e.debugger.text[t]=e.game.add.text(5,e.game.height-35-15*r,"",o)}),this.debugger.pointer=this.game.add.text(5,this.game.height-20,"",o)},t.prototype.checkMouseClick=function(){var t=0;return this.game.input.activePointer.leftButton.isDown&&(t=0),this.game.input.activePointer.middleButton.isDown&&(t=1),this.game.input.activePointer.rightButton.isDown&&(t=2),t},t.prototype.debuggerString=function(t){return"Button_"+t+" | {x: "+this.metrics.location[t].x+", y: "+this.metrics.location[t].y+"} | active: "+(this.metrics.sensitivityBuffer[t]>0)+" | state: "+this.metrics.state[t]().state+" | duration: "+this.metrics.state[t]().val+" | type: "+this.metrics.state[t]().type},t.prototype.setDebugger=function(t){void 0===t&&(t=!0),this.debugger.enabled=t},t.prototype.updateDebugger=function(){for(var t=0,e=this.mouseMapping;t<e.length;t++){var r=e[t];this.debugger.text[r].setText(this.debugger.enabled?this.debuggerString(r):"").bringToTop()}this.debugger.pointer.setText(this.debugger.enabled?"Pointer: {x: "+this.game.input.mousePointer.x+", y: "+this.game.input.mousePointer.y+"}":"").bringToTop()},t.prototype.clearAllControlIntervals=function(){for(var t=0,e=this.mouseMapping;t<e.length;t++){var r=e[t];this.metrics.sensitivityBuffer[r]=0,clearInterval(this.metrics.sensitivityPress[r])}},t.prototype.checkWithDelay=function(t){if(this.read(t.key).active===t.isActive){var e=this.mouseMap[t.key.toUpperCase()];return this.game.time.now>this.inputDelay.delay[e]&&(this.inputDelay.delay[e]=t.delay+this.game.time.now,!0)}return!1},t.prototype.read=function(t){void 0===t&&(t="LEFT");var e=this.mouseMap[t.toUpperCase()];return{id:e,x:this.metrics.location[e].x,y:this.metrics.location[e].y,active:this.metrics.sensitivityBuffer[e]>0,duration:this.metrics.sensitivityBuffer[e],state:this.metrics.state[e]().state,type:this.metrics.state[e]().type}},t.prototype.getBtnPressType=function(t){var e=this,r="NONE",i=0,s=0;return Object.keys(this.clickSensitvity).forEach(function(n){s++,t>e.clickSensitvity[n]&&(r=n,i=s)}),{val:t,type:r,state:i}},t}(),PHASER_PRELOADER=function(){function t(t){this.game=t.game,this.init(t.delayInSeconds,t.done)}return t.prototype.init=function(t,e){var r,i,s=this;this.game.load.onLoadStart.add(function(){(r=s.game.add.text(s.game.world.centerX,s.game.world.centerY/2,"",{font:"18px Impact",fill:"#fff",align:"center"})).anchor.set(.5),(i=s.game.add.text(s.game.world.centerX,s.game.world.centerY,"",{font:"32px Impact",fill:"#fff",align:"center"})).anchor.set(.5)},this),this.game.load.onFileComplete.add(function(t,e,s,n,o){r.setText("Please wait..."),i.setText(t+"%")},this),this.game.load.onLoadComplete.add(function(){r.setText("File loaded!"),i.setText(""),s.game.time.events.add(Phaser.Timer.SECOND*t,function(){r.destroy(),i.destroy(),e()},s).autoDestroy=!0},this)},t}(),PHASER_SPRITE_MANAGER=function(){function t(){this.game=null,this.sprites={array:[],object:{}}}return t.prototype.assign=function(t){this.game=t.game},t.prototype.addSprite=function(t){if(0===this.sprites.array.filter(function(e){return e.name===t.name}).length){var e=this.game.add.sprite(t.x,t.y,t.reference);return e.name=t.name,e.group=t.group||null,e.defaultPosition={x:t.x,y:t.y},e.setDefaultPositions=function(t,e){this.defaultPosition.x=t,this.defaultPosition.y=e},e.getDefaultPositions=function(){return this.defaultPosition},this.sprites.array.push(e),this.sprites.object[t.name]=e,e}console.log("Duplicate key name not allowed: "+t.key)},t.prototype.destroy=function(t){for(var e=[],r=0,i=this.sprites.array.filter(function(t){return t.name===name});r<i.length;r++){var s=i[r];e.push(s.name),s.destroy()}return delete this.sprites.object[t],this.sprites.array=this.sprites.array.filter(function(e){return e.name!==t}),e},t.prototype.destroyGroup=function(t){for(var e=[],r=0,i=this.sprites.array.filter(function(e){return e.group===t});r<i.length;r++){var s=i[r];e.push(s.key),s.destroy()}return delete this.sprites.object[t],this.sprites.array=this.sprites.array.filter(function(e){return e.group!==t}),e},t.prototype.get=function(t){return this.sprites.object[t]},t.prototype.getGroup=function(t){return this.sprites.array.filter(function(e){return e.group===t})},t.prototype.getAll=function(t){return void 0===t&&(t="BOTH"),"ARRAY"===t?this.sprites.array:"OBJECT"==t?this.sprites.object:{object:this.sprites.object,array:this.sprites.array}},t.prototype.center=function(t){if(void 0===this.sprites.object[t.name])return console.log("Error centering sprite:  key does not exists."),null;var e=this.sprites.object[t.name];return e.x=t.x-e.width/2,e.y=t.y-e.height/2,e},t}(),PHASER_TEXT_MANAGER=function(){function t(){this.game=null,this.texts={array:[],object:{}}}return t.prototype.assign=function(t){this.game=t.game},t.prototype.add=function(t){if(0===this.texts.array.filter(function(e){return e.name===t.name}).length){var e=this.game.add.bitmapText(t.x,t.y,t.font,t.default,t.size);return e.name=t.name,e.group=t.group||null,this.texts.array.push(e),this.texts.object[t.name]=e,e}console.log("Duplicate key name not allowed: "+t.key)},t.prototype.destroy=function(t){for(var e=[],r=0,i=this.texts.array.filter(function(t){return t.name===name});r<i.length;r++){var s=i[r];e.push(s.key),s.destroy()}return delete this.texts.object[name],this.texts.array=this.texts.array.filter(function(e){return e.name!==t}),e},t.prototype.destroyGroup=function(t){for(var e=[],r=0,i=this.texts.array.filter(function(e){return e.group===t});r<i.length;r++){var s=i[r];e.push(s.key),s.destroy()}return delete this.texts.object[t],this.texts.array=this.texts.array.filter(function(e){return e.group!==t}),e},t.prototype.get=function(t){return this.texts.object[t]},t.prototype.getGroup=function(t){return this.texts.array.filter(function(e){return e.group===t})},t.prototype.getAll=function(t){return void 0===t&&(t="BOTH"),"ARRAY"===t?this.texts.array:"OBJECT"==t?this.texts.object:{object:this.texts.object,array:this.texts.array}},t.prototype.center=function(t){if(void 0===this.texts.object[t.name])return console.log("Error centering sprite:  key does not exists."),null;var e=this.texts.object[t.name];return e.x=t.x-e.width/2,e.y=t.y-e.height/2,e},t}();